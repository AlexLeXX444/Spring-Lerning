# Описание проекта

## Библиотека.

---

### Сущности
Созданы сущности: {book, reader, Issue}\
Book - сущность, содержащая информацию о книге {name, author, count}.

    *name* - название книги;
    *author* - имя автора книги;
    *count* - количество экземпляров книги, которое можно выдать читателям.

Reader - сущность, содержащая информацию о читателе {firstName, lastName, bookAmount}.
  
    *firstName* - имя читателя;
    *lastName* - фамилия читателя;
    *bookAmount* - количество книг, которое одномоментно может быть на руках у читателя.

Issue - выдача книги {book, reader, startDate, endDate}.

    *book* - описание выданной книги;
    *reader* - описание читателя взявшего книгу;
    *startDate* - дата выдачи книги;
    *endDate* - дата возврата книги.

---
### Логика
При выдаче книги проверяется количество книг в библиотеке и количество книг на руках у читателя.
Если это есть запасы книг и читатель не исчерпал свой лимит, то значения счетчиков уменьшаются 
на единицу, начальная дата проставляется на текущую. При возврате книги значения счетчиков 
увеличиваются на единицу и конечная дата проставляется на момент возврата.

---
### Кратко об API
У приложения имеется API и оно открыто для всех пользователей.
Пока присутствую такие эндпоинты: \
https://localhost:8080/api/book - для обработки запросов по книгам;\
https://localhost:8080/api/reader  - для обработки запросов о читателях; \
https://localhost:8080/api/issue - для обработки выдач книг читателям.

В приложении использована библиотека *Swagger*. \
WEB страница с описанием эндпоинтов, требуемых и возвращаемых значений находится по ссылке: \
http://localhost:8080/swagger-ui/index.html

---
### WEB страницы
Дополнительно имеются простые WEB страницы для визуального ознакомления с проектом.

http://localhost:8080/book - список всех книг в библиотеке; \
http://localhost:8080/readers - список всех читателей; \
http://localhost:8080/reader/{id} - выбор определенного читателя по идентификатору, где 
отображен список книг. которые в данный момент на руках.

---
### Безопасность
В проекте настроен *SpringSecurity* для отображение контроля отображения содержимого WEB страниц.
Эндоинты и роли: \
http://localhost:8080/reader/** - доступен пользователя с ролью *ADMIN*; \
http://localhost:8080/readers/** - доступен пользователям с ролями *ADMIN* и *USER*; \
http://localhost:8080/book - доступен всем авторизованным пользователям; \
https://localhost:8080/api/** и http://localhost:8080/swagger-ui/index.html - открыт для вообще
любых запросов от любых пользователей.

---
### AOP
В проложение добавлены два аспекта. 
1) для логирования запрос/ответ к API и WEB соответственно;
2) для логирования авторизации.

---
### Заключение
Проект учебный и представлен только для ознакомление с изученными и изучения языка программирования 
Java и разработке на фреймворке Spring Boot.